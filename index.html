
<!DOCTYPE html><html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Calculadora de Planos Hapvida</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #001f3f;
      color: #fff;
      padding: 20px;
      text-align: center;
    }
    h1 {
      margin-bottom: 5px;
    }
    h2 {
      color: orange;
      margin-top: 0;
      font-size: 1.2em;
    }
    .button-group button {
      background-color: white;
      color: #001f3f;
      border: none;
      padding: 10px 15px;
      margin: 5px;
      cursor: pointer;
      font-weight: bold;
      border-radius: 5px;
    }
    .button-group button.selected {
      background-color: #007bff;
      color: white;
    }
    #resultado {
      margin-top: 20px;
      white-space: pre-line;
      text-align: left;
      background-color: #f9f9f9;
      color: #000;
      padding: 10px;
      border-radius: 8px;
    }
    button#copiar {
      margin-top: 10px;
      background-color: white;
      color: #001f3f;
      border: none;
      padding: 10px 15px;
      font-weight: bold;
      border-radius: 5px;
      cursor: pointer;
    }
    button#copiar:hover {
      background-color: #007bff;
      color: white;
    }
  </style>
</head>
<body>
  <h1>Calculadora de Planos Hapvida</h1>
  <h2>EQUIPE ALPHA A MELHOR</h2>  <div class="button-group">
    <p>Tipo de plano:</p>
    <button onclick="selecionarPlano('individual')">Individual</button>
    <button onclick="selecionarPlano('empresarial')">Empresarial</button>
  </div>  <div class="button-group">
    <p>Tipo de cobertura:</p>
    <button onclick="selecionarCobertura('nosso')">Nosso plano</button>
    <button onclick="selecionarCobertura('ambulatorial')">Ambulatorial</button>
  </div>  <div>
    <input type="text" id="idades" placeholder="Digite as idades separadas por vírgula">
    <button onclick="calcular()">Calcular</button>
  </div>  <div id="resultado"></div>
  <button id="copiar" onclick="copiarResultado()">Copiar Resultado</button>  <script>
    let planoSelecionado = '';
    let coberturaSelecionada = '';

    const botoesPlano = document.querySelectorAll(".button-group button");

    function selecionarPlano(tipo) {
      planoSelecionado = tipo;
      atualizarSelecao();
    }

    function selecionarCobertura(tipo) {
      coberturaSelecionada = tipo;
      atualizarSelecao();
    }

    function atualizarSelecao() {
      document.querySelectorAll('.button-group button').forEach(btn => btn.classList.remove('selected'));
      if (planoSelecionado) document.querySelector(`button[onclick*="${planoSelecionado}"]`).classList.add('selected');
      if (coberturaSelecionada) document.querySelector(`button[onclick*="${coberturaSelecionada}"]`).classList.add('selected');
    }

    const tabelas = {
      empresarial: {
        nosso: {
          parcial: [116.52, 130.50, 146.16, 168.08, 193.29, 230.02, 287.52, 359.41, 610.99, 684.31],
          total:   [149.08, 166.97, 187.01, 215.06, 247.32, 294.30, 367.88, 459.85, 781.75, 875.55]
        },
        ambulatorial: {
          parcial: [81.63, 91.42, 102.39, 117.75, 135.41, 161.14, 201.43, 251.80, 428.05, 479.42],
          total:   [110.53, 123.79, 138.64, 159.44, 183.36, 218.20, 272.76, 340.94, 579.61, 649.16]
        }
      },
      individual: {
        nosso: {
          parcial: [152.80, 195.29, 221.57, 245.75, 257.04, 287.85, 346.77, 470.92, 628.72, 811.32],
          total:   [186.00, 239.10, 271.96, 302.18, 316.29, 354.81, 428.45, 583.64, 780.90, 1009.16]
        },
        ambulatorial: {
          parcial: [99.71, 130.90, 149.04, 166.11, 174.74, 196.02, 239.41, 331.55, 446.49, 579.49],
          total:   [155.18, 204.28, 232.84, 259.72, 273.32, 306.82, 375.14, 520.22, 701.19, 910.61]
        }
      }
    };

    function faixaEtaria(idade) {
      if (idade <= 18) return 0;
      if (idade <= 23) return 1;
      if (idade <= 28) return 2;
      if (idade <= 33) return 3;
      if (idade <= 38) return 4;
      if (idade <= 43) return 5;
      if (idade <= 48) return 6;
      if (idade <= 53) return 7;
      if (idade <= 58) return 8;
      return 9;
    }

    function calcular() {
      if (!planoSelecionado || !coberturaSelecionada) {
        alert('Selecione o plano e a cobertura.');
        return;
      }

      const entrada = document.getElementById('idades').value;
      const idades = entrada.split(',').map(i => parseInt(i.trim())).filter(n => !isNaN(n));
      if (idades.length === 0) {
        alert('Digite pelo menos uma idade válida.');
        return;
      }

      const plano = tabelas[planoSelecionado][coberturaSelecionada];
      const parcialValores = idades.map(i => plano.parcial[faixaEtaria(i)]);
      const totalValores = idades.map(i => plano.total[faixaEtaria(i)]);

      let resultado = "*Promoção 15% nas 03 primeiras mensalidades*\n\n";
      resultado += `*Plano ${planoSelecionado === 'individual' ? 'Individual' : 'Empresarial'} – ${coberturaSelecionada === 'nosso' ? 'Nosso plano (COMPLETO)' : 'Ambulatorial'}*\n`;
      resultado += planoSelecionado === 'individual' && coberturaSelecionada === 'ambulatorial' ? 'Dá direito a urgência e emergência, consultas, exames, e odontologia de emergência.\n\n' :
                   coberturaSelecionada === 'ambulatorial' ? 'Dá direito a urgência e emergência, consultas, exames.\n\n' :
                   'Dá direito a urgência e emergência, consultas, exames, internações e cirurgias em toda rede Hapvida (Hapclínicas, laboratórios e Hospitais do Hapvida)\n\n';

      resultado += "**Coparticipação total**\n";
      idades.forEach((idade, idx) => resultado += `${idade} anos / R$ ${parcialValores[idx].toFixed(2).replace('.', ',')}\n`);
      resultado += `Total R$ ${parcialValores.reduce((a,b) => a+b, 0).toFixed(2).replace('.', ',')}\n\n`;

      resultado += "**Coparticipação parcial**\n";
      idades.forEach((idade, idx) => resultado += `${idade} anos / R$ ${totalValores[idx].toFixed(2).replace('.', ',')}\n`);
      resultado += `Total R$ ${totalValores.reduce((a,b) => a+b, 0).toFixed(2).replace('.', ',')}`;

      document.getElementById('resultado').innerText = resultado;
    }

    function copiarResultado() {
      const texto = document.getElementById('resultado').innerText;
      navigator.clipboard.writeText(texto).then(() => alert('Resultado copiado!'));
    }
  </script></body>
</html>
